<!doctype html>
<html lang="fa-IR" dir="rtl" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-software-engineering/phase08-optional02-nest">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/codestar-documents/blog/rss.xml" title="آکادمی ستاره RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/codestar-documents/blog/atom.xml" title="آکادمی ستاره Atom Feed"><title data-rh="true">Nest (اختیاری) | آکادمی ستاره</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://star-academy.github.io//codestar-documents/docs/software-engineering/phase08-optional02-nest"><meta data-rh="true" name="docusaurus_locale" content="fa"><meta data-rh="true" name="docsearch:language" content="fa"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Nest (اختیاری) | آکادمی ستاره"><link data-rh="true" rel="icon" href="/codestar-documents/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://star-academy.github.io//codestar-documents/docs/software-engineering/phase08-optional02-nest"><link data-rh="true" rel="alternate" href="https://star-academy.github.io//codestar-documents/docs/software-engineering/phase08-optional02-nest" hreflang="fa-IR"><link data-rh="true" rel="alternate" href="https://star-academy.github.io//codestar-documents/docs/software-engineering/phase08-optional02-nest" hreflang="x-default"><link rel="stylesheet" href="/codestar-documents/assets/css/styles.031de4d3.css">
<link rel="preload" href="/codestar-documents/assets/js/runtime~main.8d0291ed.js" as="script">
<link rel="preload" href="/codestar-documents/assets/js/main.9758e201.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">پرش به مطلب اصلی</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/codestar-documents/"><div class="navbar__logo"><img src="/codestar-documents/images/logo.svg" alt="لوگو آکادمی ستاره" class="themedImage_ToTc themedImage--light_HNdA"><img src="/codestar-documents/images/logo.svg" alt="لوگو آکادمی ستاره" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">آکادمی ستاره</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/intro">مقدمات</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/frontend">فرانت‌اند</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/software-engineering">مهندسی نرم‌افزار</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/general">عمومی</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/project">پروژه</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/Roadmaps">مسیرهای یادگیری</a></div><div class="navbar__items navbar__items--right"><a href="https://www.aparat.com/Code_star/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Aparat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Star-Academy/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="بین حالت تاریک و روشن سوئیچ کنید (الان حالت روشن)" aria-label="بین حالت تاریک و روشن سوئیچ کنید (الان حالت روشن)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="بازگشت به بالا" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/intro">مقدمات</a><button aria-label="دسته‌بندی برچسب &#x27;مقدمات&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/frontend">فرانت‌اند</a><button aria-label="دسته‌بندی برچسب &#x27;فرانت‌اند&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/codestar-documents/docs/software-engineering">مهندسی نرم‌افزار</a><button aria-label="دسته‌بندی برچسب &#x27;مهندسی نرم‌افزار&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase01-simple-project">Full-Text Search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase02-clean-code">Clean Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase03-c-sharp">C#</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase04-unit-test">Unit Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase05-tdd">TDD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase06-cicd">CI/CD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase07-SQL">SQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase08-EFCore">EFCore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase08-optional01-Elasticsearch">Elasticsearch (اختیاری)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/codestar-documents/docs/software-engineering/phase08-optional02-nest">Nest (اختیاری)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/software-engineering/phase09-web">ASP.NET Core</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/general">عمومی</a><button aria-label="دسته‌بندی برچسب &#x27;عمومی&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/project">پروژه</a><button aria-label="دسته‌بندی برچسب &#x27;پروژه&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/Roadmaps">مسیرهای یادگیری</a><button aria-label="دسته‌بندی برچسب &#x27;مسیرهای یادگیری&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/meetings">جلسات</a><button aria-label="دسته‌بندی برچسب &#x27;جلسات&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="بستن نوار کناری" aria-label="بستن نوار کناری" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="نشانگر صفحات"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="صفحه اصلی" class="breadcrumbs__link" href="/codestar-documents/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/codestar-documents/docs/software-engineering"><span itemprop="name">مهندسی نرم‌افزار</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Nest (اختیاری)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">مطالب این صفحه</button></div><div class="theme-doc-markdown markdown"><header><h1>Nest (اختیاری)</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="مقدمه">مقدمه<a class="hash-link" href="#مقدمه" title="لینک مستقیم به عنوان">​</a></h2><p>در این فاز با کتاب‌خانه‌ی
<a href="https://www.elastic.co/guide/en/elasticsearch/client/net-api/current/nest.html" target="_blank" rel="noopener noreferrer">NEST</a>
آشنا می‌شوید.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nest-چیست">Nest چیست؟<a class="hash-link" href="#nest-چیست" title="لینک مستقیم به عنوان">​</a></h2><p>همان‌طور که احتمالاً در فاز قبل متوجه شدید Elasticsearch
با استفاده از <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/rest-apis.html" target="_blank" rel="noopener noreferrer">REST API</a>
قابل استفاده است.
با توجه به این موضوع می‌توان در هر زبانی با ساخت یک Http Connection
به Elasticsearch
درخواست داد و Queryهای
مورد نظر را اجرا کرد.</p><p>در زبان #C
با استفاده از کلاس <a href="https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=netcore-3.1" target="_blank" rel="noopener noreferrer">HttpClient</a>
به Elasticsearch
متصل شوید و ضمن ساخت یک index
<a target="_blank" href="/codestar-documents/assets/files/people-37f049d502011ac3d0cbb332fae2f675.json">این اشخاص</a>
را به صورت یکی یکی (بدون استفاده از Bulk API)
در آن بارگذاری کنید.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>‌</div><div class="admonitionContent_S0QG"><p>در این قسمت علاوه بر اتصال به Elasticsearch
یادگیری نحوه‌ی استفاده از HttpClient
نیز مد نظر است.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>‌</div><div class="admonitionContent_S0QG"><p>کلاس HttpClient
از واسط IDisposable
ارث‌بری می‌کند اما با سایر IDisposableها
تفاوت دارد که در <a href="https://medium.com/@nuno.caneco/c-httpclient-should-not-be-disposed-or-should-it-45d2a8f568bc" target="_blank" rel="noopener noreferrer">این لینک</a>
می‌توانید درباره‌ی آن مطالعه کنید.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="آشنایی-با-کتابخانهی-nest">آشنایی با کتاب‌خانه‌ی NEST<a class="hash-link" href="#آشنایی-با-کتابخانهی-nest" title="لینک مستقیم به عنوان">​</a></h2><p>تا این‌جای کار متوجه شدیم که اتصال به Elasticsearch
در زبان #C
با استفاده از HttpClient
امکان‌پذیر است اما استفاده از آن دشوار و زمان‌بر است. کتاب‌خانه‌ی <a href="https://www.elastic.co/guide/en/elasticsearch/client/net-api/current/nest.html" target="_blank" rel="noopener noreferrer">NEST</a>
یک رابط سطح بالا برای اتصال به Elasticsearch
ارائه می‌دهد که به خاطر ویژگی strongly typed
بودن کار با آن به صورت شیءگرا را بسیار ساده می‌کند.</p><p>حال می‌خواهیم کاری را که پیش تر انجام دادیم این بار با استفاده از این کتاب‌خانه انجام دهیم.</p><ol><li><p>یک پروژه‌ی سی‌شارپ بسازید و
<a href="https://www.nuget.org/packages/NEST/" target="_blank" rel="noopener noreferrer">NuGet Package این کتاب‌خانه</a>
را در آن اضافه کنید.</p></li><li><p>با استفاده از تکه کد زیر یک شیء از کلاس <code>ElasticClient</code>
ایجاد کنید:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var uri = new Uri (&quot;http://localhost:9200&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var connectionSettings = new ConnectionSettings (uri);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// DebugMode gives you the request in each request to make debuging easier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// But don&#x27;t forget to only use it in debugging, because its usage has some overhead</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// and should not be used in production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">connectionSettings.EnableDebugMode();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var client = new ElasticClient (connectionSettings);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>با استفاده از تکه کد زیر از درستی اتصال خود اطمینان حاصل کنید:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var response = client.Ping();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>یک کلاس مدل برای Person
ایجاد کنید:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class Person </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;age&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int Age {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;eyeColor&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string EyeColor {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;name&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string Name {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;gender&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string Gender {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;company&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string Company {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;email&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string Email {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;phone&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string Phone {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;address&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string Address{get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;about&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string About {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;registration_date&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string RegistrationDate {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Ignore]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;latitude&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public double Latitude {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Ignore]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [JsonPropertyName(&quot;longitude&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public double Longitude {get;set;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private string location = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string Location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        get</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (location is null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return $&quot;{Latitude},{Longitude}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return location;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            location = value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>در این کلاس به <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/" target="_blank" rel="noopener noreferrer">Attribute</a>های
Ignore
و JsonPropertyName
دقت کنید و علت استفاده از آن‌ها را توضیح دهید.</p><p>هم‌چنین به نحوه‌ی تعریف Location
نیز دقت کنید.</p></li><li><p>با استفاده از کلاس مدل تعریف شده فایل JSON
داده‌ها را بخوانید.</p></li><li><p>یک index
با mapping
مناسب برای این اشخاص تعریف کنید.
یک مثال برای تعریف index
همراه با mapping
در زیر آمده است:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var index = &quot;my-index&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var response = client.Indices.Create(index,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        s =&gt; s.Settings(settings =&gt; settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Setting(&quot;max_ngram_diff&quot;, 7)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Analysis(analysis =&gt; analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .TokenFilters(tf =&gt; tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .NGram(&quot;my-ngram-filter&quot;, ng =&gt; ng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        .MinGram(3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        .MaxGram(10)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .Analyzers(analyzer =&gt; analyzer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .Custom(&quot;my-ngram-analyzer&quot;, custom =&gt; custom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        .Tokenizer(&quot;standard&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        .Filters(&quot;lowercase&quot;, &quot;my-ngram-filter&quot;)))))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .Map&lt;Person&gt;(m =&gt; m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .Properties(pr =&gt; pr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            .Text(t =&gt; t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                .Name(n =&gt; n.About)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                .Fields(f =&gt; f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    .Text(ng =&gt; ng</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        .Name(&quot;ngram&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        .Analyzer(&quot;my-ngram-analyzer&quot;)))))));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>با اجرای این مثال توضیح دهید Mapping
تعریف‌شده چه Fieldهایی
دارد.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>‌</div><div class="admonitionContent_S0QG"><p>می‌توانید از <a href="https://www.elastic.co/guide/en/elasticsearch/client/net-api/current/multi-fields.html" target="_blank" rel="noopener noreferrer">این لینک</a>
کمک بگیرید.</p></div></div></li><li><p>با استفاده از تکه‌کد زیر (احتمالاً با کمی تغییر)
داده‌ها را در index
ایجاد شده بریزید:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var bulkDescriptor = new BulkDescriptor();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach (var person in people)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bulkDescriptor.Index&lt;Person&gt;(x =&gt; x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .Index(index)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .Document(person)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client.Bulk(bulkDescriptor);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="اجرای-queryهای-جستجو">اجرای Queryهای جستجو<a class="hash-link" href="#اجرای-queryهای-جستجو" title="لینک مستقیم به عنوان">​</a></h2><p>در این قسمت انواع Queryهایی
که در فاز قبل اجرا کردید را روی داده‌ها با استفاده از NEST
اجرا کنید. در این راه احتمالاً <a href="https://www.elastic.co/guide/en/elasticsearch/client/net-api/current/query-dsl.html" target="_blank" rel="noopener noreferrer">این لینک</a>
به کمک شما می‌آید.</p><p>یک مثال به دو صورت در زیر آمده است:</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static void BoolQuerySample1()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    QueryContainer query = new BoolQuery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Must = new List&lt;QueryContainer&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new MatchQuery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Field = &quot;about&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Query = &quot;Labore&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var response = client.Search&lt;Dictionary&lt;string, object&gt;&gt;(s =&gt; s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .Index(&quot;my-index&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .Query(q =&gt; query));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static void BoolQuerySample2()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var response = client.Search&lt;Person&gt;(s =&gt; s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .Index(&quot;my-index&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .Query(q =&gt; q</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .Bool(b =&gt; b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .Must(must =&gt; must</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .Match(match =&gt; match</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        .Field(p =&gt; p.About)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        .Query(&quot;Labore&quot;))))));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="آشنایی-با-مفهوم-near-real-time">آشنایی با مفهوم Near Real Time<a class="hash-link" href="#آشنایی-با-مفهوم-near-real-time" title="لینک مستقیم به عنوان">​</a></h2><p>وقتی در Elasticsearch
داده‌ای را index
می‌کنیم همان لحظه برای جستجو در دسترس نیست. در این باره <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/near-real-time.html" target="_blank" rel="noopener noreferrer">این لینک</a>
را مطالعه کنید.</p><p>با توجه به این موضوع برای این که یک سند بارگذاری شده قابل جستجو باشد باید index
مورد نظر <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-refresh.html" target="_blank" rel="noopener noreferrer">refresh</a>
شود.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="آشنایی-با-queryهای-سیستمی-elasticsearch">آشنایی با Queryهای سیستمی Elasticsearch<a class="hash-link" href="#آشنایی-با-queryهای-سیستمی-elasticsearch" title="لینک مستقیم به عنوان">​</a></h2><p>هر یک از تکه‌کدهای زیر را اجرا کنید و توضیح دهید خروجی هر کدام چیست؟</p><ul><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster-health.html" target="_blank" rel="noopener noreferrer">Cluster health</a></li></ul><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var response = client.Cluster.Health();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-nodes.html" target="_blank" rel="noopener noreferrer">cat nodes</a></li></ul><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var response = client.Cat.Nodes();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-indices.html" target="_blank" rel="noopener noreferrer">cat indices</a></li></ul><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var response = client.Cat.Indices();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="response-validation">Response Validation<a class="hash-link" href="#response-validation" title="لینک مستقیم به عنوان">​</a></h2><p>پاسخی که NEST
از Elasticsearch
دریافت می‌کند در قالب یک <code>IResponse</code>
در اختیار ما قرار می‌گیرد که البته از یکی از کلاس‌هایی است که این interface
را پیاده‌سازی کرده‌اند.
گاهی اوقات اجرای Query
با مشکل مواجه می‌شود که این مشکلات در پاسخی که در اختیار ما قرار می‌گیرد یا در قالب Exception
و یا در یکی از Propertyهای
IResponse
توضیح داده می‌شوند. در <a href="https://www.elastic.co/guide/en/elasticsearch/client/net-api/1.x/handling-responses.html" target="_blank" rel="noopener noreferrer">این لینک</a>
در این باره مطالعه کنید و یک Validator
برای Responseها
پیاده سازی کنید.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="پروژه">پروژه<a class="hash-link" href="#پروژه" title="لینک مستقیم به عنوان">​</a></h2><p>یک اپلیکیشن به زبان سی‌شارپ بنویسید که مانند فاز یک کار کند با این تفاوت که به جای این که ساخت Index
و جستجو را خودتان پیاده‌سازی کنید از امکانات Elasticsearch
استفاده کنید.
از Response Validatorی
که در قسمت قبل نوشتید در این اپلیکیشن استفاده کنید.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Star-Academy/codestar-documents/tree/master/docs/software-engineering/phase08-optional02-nest.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ویرایش مطالب این صفحه</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="کنترل صفحات مطالب"><a class="pagination-nav__link pagination-nav__link--prev" href="/codestar-documents/docs/software-engineering/phase08-optional01-Elasticsearch"><div class="pagination-nav__sublabel">قبلی</div><div class="pagination-nav__label">Elasticsearch (اختیاری)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/codestar-documents/docs/software-engineering/phase09-web"><div class="pagination-nav__sublabel">بعدی</div><div class="pagination-nav__label">ASP.NET Core</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#مقدمه" class="table-of-contents__link toc-highlight">مقدمه</a></li><li><a href="#nest-چیست" class="table-of-contents__link toc-highlight">Nest چیست؟</a></li><li><a href="#آشنایی-با-کتابخانهی-nest" class="table-of-contents__link toc-highlight">آشنایی با کتاب‌خانه‌ی NEST</a></li><li><a href="#اجرای-queryهای-جستجو" class="table-of-contents__link toc-highlight">اجرای Queryهای جستجو</a></li><li><a href="#آشنایی-با-مفهوم-near-real-time" class="table-of-contents__link toc-highlight">آشنایی با مفهوم Near Real Time</a></li><li><a href="#آشنایی-با-queryهای-سیستمی-elasticsearch" class="table-of-contents__link toc-highlight">آشنایی با Queryهای سیستمی Elasticsearch</a></li><li><a href="#response-validation" class="table-of-contents__link toc-highlight">Response Validation</a></li><li><a href="#پروژه" class="table-of-contents__link toc-highlight">پروژه</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">مستندات</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/intro">مقدمات</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/frontend">فرانت‌اند</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/software-engineering">مهندسی نرم‌افزار</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/general">عمومی</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/project">پروژه</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/roadmaps">مسیرهای یادگیری</a></li></ul></div><div class="col footer__col"><div class="footer__title">بیشتر</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Star-Academy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.aparat.com/Code_star/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Aparat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">تمامی حقوق مادی و معنوی این سایت متعلق به آکادمی ستاره می‌باشد.</div></div></div></footer></div>
<script src="/codestar-documents/assets/js/runtime~main.8d0291ed.js"></script>
<script src="/codestar-documents/assets/js/main.9758e201.js"></script>
</body>
</html>